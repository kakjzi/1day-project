# User Stories

## 스토리 형식
- **분류**: Feature-Based
- **수용 기준**: 체크리스트
- **우선순위**: High / Medium / Low

---

## 1. 인증 (Authentication)

### US-01: 테이블 로그인
**As a** 고객  
**I want to** 테이블 태블릿에서 자동 로그인되기를  
**So that** 별도 절차 없이 바로 주문할 수 있다

**Priority**: High

**Acceptance Criteria**:
- [ ] 초기 설정 시 매장ID, 테이블번호, 4자리 PIN 입력
- [ ] 로그인 정보 로컬 저장
- [ ] 재접속 시 자동 로그인 (저장된 정보 사용)
- [ ] 로그인 실패 시 에러 메시지 표시

---

### US-02: 관리자 로그인
**As a** 관리자  
**I want to** 매장 관리 시스템에 로그인하기를  
**So that** 주문을 관리할 수 있다

**Priority**: High

**Acceptance Criteria**:
- [ ] 매장ID, 사용자명, 비밀번호로 로그인
- [ ] 16시간 세션 유지
- [ ] 세션 만료 시 자동 로그아웃
- [ ] 로그인 실패 시 에러 메시지 표시

---

### US-03: 관리자 등록
**As a** 관리자  
**I want to** 새 관리자 계정을 등록하기를  
**So that** 다른 직원도 시스템을 사용할 수 있다

**Priority**: Medium

**Acceptance Criteria**:
- [ ] 관리자 등록 화면 제공
- [ ] 사용자명, 비밀번호 입력
- [ ] 중복 사용자명 검증
- [ ] 등록 성공/실패 피드백

---

## 2. 메뉴 (Menu)

### US-04: 메뉴 조회
**As a** 고객  
**I want to** 카테고리별 메뉴를 조회하기를  
**So that** 원하는 음식을 쉽게 찾을 수 있다

**Priority**: High

**Acceptance Criteria**:
- [ ] 카테고리별 메뉴 목록 표시
- [ ] 메뉴 카드에 이름, 가격, 이미지 표시
- [ ] 카테고리 간 빠른 이동
- [ ] 메뉴 클릭 시 상세 정보 + 장바구니 추가 버튼 표시

---

### US-05: 메뉴 관리
**As a** 관리자  
**I want to** 메뉴를 등록/수정/삭제하기를  
**So that** 매장 메뉴를 최신 상태로 유지할 수 있다

**Priority**: High

**Acceptance Criteria**:
- [ ] 메뉴 CRUD 기능
- [ ] 메뉴명, 가격, 설명, 카테고리, 이미지 입력
- [ ] 옵션 그룹 및 옵션 항목 관리
- [ ] 메뉴 노출 순서 조정

---

## 3. 장바구니 (Cart)

### US-06: 장바구니 관리
**As a** 고객  
**I want to** 메뉴를 장바구니에 담고 관리하기를  
**So that** 주문 전에 선택을 검토할 수 있다

**Priority**: High

**Acceptance Criteria**:
- [ ] 메뉴 추가 시 옵션 선택 가능
- [ ] 수량 증가/감소
- [ ] 항목 삭제
- [ ] 총 금액 실시간 계산
- [ ] 페이지 재로드 시에도 장바구니 유지 (localStorage 저장)

---

## 4. 주문 (Order)

### US-07: 주문 생성
**As a** 고객  
**I want to** 장바구니 내용을 주문하기를  
**So that** 음식을 받을 수 있다

**Priority**: High

**Acceptance Criteria**:
- [ ] 주문 내역 최종 확인 화면
- [ ] 주문 확정 버튼
- [ ] 주문 성공 시 주문번호 5초 표시 후 메뉴 화면 이동
- [ ] 주문 실패 시 에러 메시지 + 장바구니 유지

---

### US-08: 주문 내역 조회
**As a** 고객  
**I want to** 현재 세션의 주문 내역을 조회하기를  
**So that** 주문 상태를 확인할 수 있다

**Priority**: High

**Acceptance Criteria**:
- [ ] 현재 테이블 세션 주문만 표시
- [ ] 주문번호, 시각, 메뉴, 금액, 상태 표시
- [ ] 주문 상태 4단계 표시 (대기중/접수/준비중/완료)

---

### US-09: 실시간 주문 모니터링
**As a** 관리자  
**I want to** 들어오는 주문을 실시간으로 확인하기를  
**So that** 즉시 대응할 수 있다

**Priority**: High

**Acceptance Criteria**:
- [ ] SSE 기반 실시간 주문 업데이트
- [ ] 테이블별 그리드 레이아웃
- [ ] 신규 주문 시 시각적 강조 + 소리 알림
- [ ] 주문 카드에 상태 변경 버튼 표시 (대기중→접수→준비중→완료)
- [ ] 주문 카드 클릭 시 상세 보기

---

### US-10: 주문 삭제
**As a** 관리자  
**I want to** 잘못된 주문을 삭제하기를  
**So that** 정확한 주문 현황을 유지할 수 있다

**Priority**: Medium

**Acceptance Criteria**:
- [ ] 주문 삭제 버튼 (완료 상태 제외)
- [ ] 확인 팝업 표시
- [ ] 삭제 후 테이블 총액 재계산
- [ ] 성공/실패 피드백
- [ ] 완료된 주문은 삭제 버튼 비활성화

---

## 5. 테이블 관리 (Table Management)

### US-11: 테이블 이용 완료
**As a** 관리자  
**I want to** 테이블 이용 완료 처리를 하기를  
**So that** 새 고객을 받을 준비를 할 수 있다

**Priority**: High

**Acceptance Criteria**:
- [ ] 이용 완료 버튼
- [ ] 확인 팝업 표시
- [ ] 현재 세션 주문을 이력으로 이동
- [ ] 테이블 주문 목록 및 총액 리셋

---

### US-12: 테이블 간 주문 이동
**As a** 관리자  
**I want to** 한 테이블의 주문을 다른 테이블로 이동하기를  
**So that** 고객이 자리를 변경해도 주문을 유지할 수 있다

**Priority**: Medium

**Acceptance Criteria**:
- [ ] 테이블 카드에서 "이동" 버튼
- [ ] 이동할 대상 테이블 선택
- [ ] 확인 팝업 표시
- [ ] 주문 및 장바구니 대상 테이블로 이동
- [ ] 대상 테이블 총액에 이동된 주문 금액 합산
- [ ] 원래 테이블 리셋 (총액 0원)

---

### US-13: 과거 주문 조회
**As a** 관리자  
**I want to** 테이블의 과거 주문 내역을 조회하기를  
**So that** 이전 이용 기록을 확인할 수 있다

**Priority**: Low

**Acceptance Criteria**:
- [ ] 과거 내역 버튼
- [ ] 테이블별 과거 주문 목록 (시간 역순)
- [ ] 날짜 필터링 기능
- [ ] 닫기 버튼으로 대시보드 복귀

---

## Story-Persona Mapping

| Story | 고객 | 관리자 |
|-------|:----:|:------:|
| US-01 테이블 로그인 | ✓ | |
| US-02 관리자 로그인 | | ✓ |
| US-03 관리자 등록 | | ✓ |
| US-04 메뉴 조회 | ✓ | |
| US-05 메뉴 관리 | | ✓ |
| US-06 장바구니 관리 | ✓ | |
| US-07 주문 생성 | ✓ | |
| US-08 주문 내역 조회 | ✓ | |
| US-09 실시간 주문 모니터링 | | ✓ |
| US-10 주문 삭제 | | ✓ |
| US-11 테이블 이용 완료 | | ✓ |
| US-12 테이블 간 주문 이동 | | ✓ |
| US-13 과거 주문 조회 | | ✓ |
